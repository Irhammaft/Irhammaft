version: 2.1
jobs:
  compile:
   docker:
      - image: ubuntu:20.04
   steps:
      - run:
          command: |
           apt-get -y update && apt-get -y upgrade && apt-get -y install python python2 python3 python3-pip tzdata build-essential bc bison flex gcc clang libc6 libstdc++6 libssl-dev zip p7zip-full git
           git clone https://github.com/zexceed12300/ci_script -b master
           cd ci_script
           git clone --depth=1 https://github.com/efaiza5/xxxvenoom
           pip3 install -r requirements.txt   
           python3 ci_build.py --build --tele-notifier --tele-check --verbose --tele-tz Asia/Jakarta
           bash build.sh
workflows:
  version: 2.1
  cooking:
    jobs:
      - compile
